{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Muhammad Umer\\\\OneDrive\\\\Desktop\\\\Cloud Semester Project\\\\frontend\\\\src\\\\components\\\\Map.tsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { MapContainer, TileLayer, Marker, Popup, CircleMarker } from 'react-leaflet';\nimport 'leaflet/dist/leaflet.css';\nimport L from 'leaflet';\nimport { Box } from '@mui/material';\n\n// Fix for default marker icons in Leaflet with React\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\ndelete L.Icon.Default.prototype._getIconUrl;\nL.Icon.Default.mergeOptions({\n  iconRetinaUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png',\n  iconUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png',\n  shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png'\n});\n\n// Define all station locations\nconst stations = [{\n  id: 'victoria',\n  name: 'Victoria Station',\n  lat: 51.4965,\n  lng: -0.1447\n}, {\n  id: 'green-park',\n  name: 'Green Park',\n  lat: 51.5067,\n  lng: -0.1428\n}, {\n  id: 'oxford-circus',\n  name: 'Oxford Circus',\n  lat: 51.5154,\n  lng: -0.1755\n}, {\n  id: 'kings-cross',\n  name: 'King\\'s Cross',\n  lat: 51.5320,\n  lng: -0.1233\n}, {\n  id: 'waterloo',\n  name: 'Waterloo',\n  lat: 51.5033,\n  lng: -0.1145\n}, {\n  id: 'bank',\n  name: 'Bank',\n  lat: 51.5134,\n  lng: -0.0886\n}, {\n  id: 'paddington',\n  name: 'Paddington',\n  lat: 51.5154,\n  lng: -0.1755\n}, {\n  id: 'baker-street',\n  name: 'Baker Street',\n  lat: 51.5226,\n  lng: -0.1571\n}, {\n  id: 'camden-town',\n  name: 'Camden Town',\n  lat: 51.5392,\n  lng: -0.1426\n}, {\n  id: 'hammersmith',\n  name: 'Hammersmith',\n  lat: 51.4927,\n  lng: -0.2229\n}];\nconst Map = () => {\n  _s();\n  const [busPosition, setBusPosition] = useState(stations[0]);\n  const [currentStationIndex, setCurrentStationIndex] = useState(0);\n  const [center] = useState([51.505, -0.09]); // London coordinates\n\n  useEffect(() => {\n    let progress = 0;\n    const interval = setInterval(() => {\n      progress += 0.01;\n      if (progress >= 1) {\n        progress = 0;\n        // Move to next station\n        setCurrentStationIndex(prevIndex => (prevIndex + 1) % stations.length);\n      }\n      const currentStation = stations[currentStationIndex];\n      const nextStation = stations[(currentStationIndex + 1) % stations.length];\n\n      // Calculate new position using linear interpolation\n      const newLat = currentStation.lat + (nextStation.lat - currentStation.lat) * progress;\n      const newLng = currentStation.lng + (nextStation.lng - currentStation.lng) * progress;\n      setBusPosition({\n        ...currentStation,\n        lat: newLat,\n        lng: newLng\n      });\n    }, 100); // Update every 100ms\n\n    return () => clearInterval(interval);\n  }, [currentStationIndex]);\n  return /*#__PURE__*/_jsxDEV(Box, {\n    sx: {\n      height: '500px',\n      width: '100%',\n      position: 'relative'\n    },\n    children: /*#__PURE__*/_jsxDEV(MapContainer, {\n      center: center,\n      zoom: 13,\n      style: {\n        height: '100%',\n        width: '100%',\n        position: 'absolute',\n        top: 0,\n        left: 0\n      },\n      children: [/*#__PURE__*/_jsxDEV(TileLayer, {\n        url: \"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\",\n        attribution: \"\\xA9 <a href=\\\"https://www.openstreetmap.org/copyright\\\">OpenStreetMap</a> contributors\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this), stations.map(station => /*#__PURE__*/_jsxDEV(Marker, {\n        position: [station.lat, station.lng],\n        children: /*#__PURE__*/_jsxDEV(Popup, {\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: station.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 13\n        }, this)\n      }, station.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 11\n      }, this)), /*#__PURE__*/_jsxDEV(CircleMarker, {\n        center: [busPosition.lat, busPosition.lng],\n        radius: 8,\n        pathOptions: {\n          color: 'red',\n          fillColor: 'red',\n          fillOpacity: 1\n        },\n        children: /*#__PURE__*/_jsxDEV(Popup, {\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Bus 38\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 89,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 89,\n              columnNumber: 38\n            }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Current Location:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 15\n            }, this), \" \", busPosition.name, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 68\n            }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Next Stop:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 91,\n              columnNumber: 15\n            }, this), \" \", stations[(currentStationIndex + 1) % stations.length].name]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 5\n  }, this);\n};\n_s(Map, \"NpvKWG+UX/Ogr+caW9CyEAWfT8Y=\");\n_c = Map;\nexport default Map;\nvar _c;\n$RefreshReg$(_c, \"Map\");","map":{"version":3,"names":["React","useEffect","useState","MapContainer","TileLayer","Marker","Popup","CircleMarker","L","Box","jsxDEV","_jsxDEV","Icon","Default","prototype","_getIconUrl","mergeOptions","iconRetinaUrl","iconUrl","shadowUrl","stations","id","name","lat","lng","Map","_s","busPosition","setBusPosition","currentStationIndex","setCurrentStationIndex","center","progress","interval","setInterval","prevIndex","length","currentStation","nextStation","newLat","newLng","clearInterval","sx","height","width","position","children","zoom","style","top","left","url","attribution","fileName","_jsxFileName","lineNumber","columnNumber","map","station","radius","pathOptions","color","fillColor","fillOpacity","_c","$RefreshReg$"],"sources":["C:/Users/Muhammad Umer/OneDrive/Desktop/Cloud Semester Project/frontend/src/components/Map.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { MapContainer, TileLayer, Marker, Popup, CircleMarker } from 'react-leaflet';\nimport 'leaflet/dist/leaflet.css';\nimport L from 'leaflet';\nimport { Box } from '@mui/material';\n\n// Fix for default marker icons in Leaflet with React\ndelete (L.Icon.Default.prototype as any)._getIconUrl;\nL.Icon.Default.mergeOptions({\n    iconRetinaUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png',\n    iconUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png',\n    shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png',\n});\n\n// Define all station locations\nconst stations = [\n  { id: 'victoria', name: 'Victoria Station', lat: 51.4965, lng: -0.1447 },\n  { id: 'green-park', name: 'Green Park', lat: 51.5067, lng: -0.1428 },\n  { id: 'oxford-circus', name: 'Oxford Circus', lat: 51.5154, lng: -0.1755 },\n  { id: 'kings-cross', name: 'King\\'s Cross', lat: 51.5320, lng: -0.1233 },\n  { id: 'waterloo', name: 'Waterloo', lat: 51.5033, lng: -0.1145 },\n  { id: 'bank', name: 'Bank', lat: 51.5134, lng: -0.0886 },\n  { id: 'paddington', name: 'Paddington', lat: 51.5154, lng: -0.1755 },\n  { id: 'baker-street', name: 'Baker Street', lat: 51.5226, lng: -0.1571 },\n  { id: 'camden-town', name: 'Camden Town', lat: 51.5392, lng: -0.1426 },\n  { id: 'hammersmith', name: 'Hammersmith', lat: 51.4927, lng: -0.2229 }\n];\n\nconst Map: React.FC = () => {\n  const [busPosition, setBusPosition] = useState(stations[0]);\n  const [currentStationIndex, setCurrentStationIndex] = useState(0);\n  const [center] = useState<[number, number]>([51.505, -0.09]); // London coordinates\n\n  useEffect(() => {\n    let progress = 0;\n    const interval = setInterval(() => {\n      progress += 0.01;\n      if (progress >= 1) {\n        progress = 0;\n        // Move to next station\n        setCurrentStationIndex((prevIndex) => (prevIndex + 1) % stations.length);\n      }\n\n      const currentStation = stations[currentStationIndex];\n      const nextStation = stations[(currentStationIndex + 1) % stations.length];\n\n      // Calculate new position using linear interpolation\n      const newLat = currentStation.lat + (nextStation.lat - currentStation.lat) * progress;\n      const newLng = currentStation.lng + (nextStation.lng - currentStation.lng) * progress;\n\n      setBusPosition({ ...currentStation, lat: newLat, lng: newLng });\n    }, 100); // Update every 100ms\n\n    return () => clearInterval(interval);\n  }, [currentStationIndex]);\n\n  return (\n    <Box sx={{ height: '500px', width: '100%', position: 'relative' }}>\n      <MapContainer\n        center={center}\n        zoom={13}\n        style={{ height: '100%', width: '100%', position: 'absolute', top: 0, left: 0 }}\n      >\n        <TileLayer\n          url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n          attribution='&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors'\n        />\n        {/* Station Markers */}\n        {stations.map((station) => (\n          <Marker\n            key={station.id}\n            position={[station.lat, station.lng]}\n          >\n            <Popup>\n              <div>\n                <strong>{station.name}</strong>\n              </div>\n            </Popup>\n          </Marker>\n        ))}\n        {/* Bus as a red dot */}\n        <CircleMarker\n          center={[busPosition.lat, busPosition.lng]}\n          radius={8}\n          pathOptions={{ color: 'red', fillColor: 'red', fillOpacity: 1 }}\n        >\n          <Popup>\n            <div>\n              <strong>Bus 38</strong><br />\n              <strong>Current Location:</strong> {busPosition.name}<br />\n              <strong>Next Stop:</strong> {stations[(currentStationIndex + 1) % stations.length].name}\n            </div>\n          </Popup>\n        </CircleMarker>\n      </MapContainer>\n    </Box>\n  );\n};\n\nexport default Map; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}